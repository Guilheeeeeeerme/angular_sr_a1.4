!function(){function n(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var e=[],i=!0,o=!1,r=void 0;try{for(var s,a=n[Symbol.iterator]();!(i=(s=a.next()).done)&&(e.push(s.value),!t||e.length!==t);i=!0);}catch(_){o=!0,r=_}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return e}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return t(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);"Object"===i&&n.constructor&&(i=n.constructor.name);if("Map"===i||"Set"===i)return Array.from(n);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function o(n,t,e){return t&&i(n.prototype,t),e&&i(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{oBGg:function(t,i,r){"use strict";r.r(i),r.d(i,"PodcastsModule",function(){return V});var s=r("ofXK"),a=r("pk6O"),_=r("tyNb"),c=r("quSY"),p=r("itXk"),d=r("l7P3"),u=r("SJ6y"),b=r("YgWW"),l=r("fXoL"),f=r("1wSx"),g=r("3Pt+"),h=r("lJxs");function m(n,t){if(1&n&&(l.Kb(0,"option",3),l.cc(1),l.Jb()),2&n){var e=t.$implicit;l.Vb("value",e.id),l.xb(1),l.dc(e.name)}}var x,k,y=((x=function(){function n(t){e(this,n),this.store=t,this.subscription=new c.a,this.genre_form=new g.c({selected_genre_id:new g.a(null)})}return o(n,[{key:"ngOnInit",value:function(){var n=this;this.subscription.add(this.store.pipe(Object(d.h)(b.b)).subscribe(function(t){n.genre_form.value.selected_genre_id!=t.genre_id&&n.genre_form.patchValue({selected_genre_id:t.genre_id})})),this.subscription.add(this.genre_form.valueChanges.pipe(Object(h.a)(function(t){var e=t.selected_genre_id;return n.genres.filter(function(n){return n.id==e})[0]})).subscribe(function(t){n.store.dispatch(Object(u.c)({genre_id:t.id,genre_name:t.name}))}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),n}()).\u0275fac=function(n){return new(n||x)(l.Hb(d.a))},x.\u0275cmp=l.Bb({type:x,selectors:[["genre-picker"]],inputs:{genres:"genres"},decls:3,vars:2,consts:[[3,"formGroup"],["formControlName","selected_genre_id","name","genres","id","genres",1,"select","gradient__text"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,t){1&n&&(l.Kb(0,"form",0),l.Kb(1,"select",1),l.bc(2,m,2,2,"option",2),l.Jb(),l.Jb()),2&n&&(l.Vb("formGroup",t.genre_form),l.xb(2),l.Vb("ngForOf",t.genres))},directives:[g.k,g.f,g.d,g.i,g.e,g.b,s.j,g.g,g.j],styles:["[_ngcontent-%COMP%]:root{--select-border:#777;--select-focus:#00f;--select-arrow:var(--select-border)}.select[_ngcontent-%COMP%]{font-family:SpaceMono,sans-serif;font-weight:600;width:100%;min-width:15ch;max-width:30ch;border:1px solid var(--select-border);border-radius:.25em;padding:.25em .5em;font-size:1.25rem;cursor:pointer;line-height:1.1;background-color:#fff;margin-bottom:1em}"]}),x),v=r("jhN1"),w=((k=function(){function n(t){e(this,n),this.domSanitizer=t}return o(n,[{key:"safe_rss_url",get:function(){return this._safe_rss_url||(this._safe_rss_url=this.domSanitizer.bypassSecurityTrustResourceUrl(this.podcast.rss)),this._safe_rss_url}},{key:"safe_website_url",get:function(){return this._safe_website_url||(this._safe_website_url=this.domSanitizer.bypassSecurityTrustResourceUrl(this.podcast.website)),this._safe_website_url}},{key:"safe_itunes_url",get:function(){return this._safe_itunes_url||(this._safe_itunes_url=this.domSanitizer.bypassSecurityTrustResourceUrl("https://itunes.apple.com/us/podcast/id"+this.podcast.itunes_id)),this._safe_itunes_url}},{key:"safe_thumbnail_url",get:function(){return this._safe_thumbnail_url||(this._safe_thumbnail_url=this.domSanitizer.bypassSecurityTrustResourceUrl(this.podcast.thumbnail)),this._safe_thumbnail_url}},{key:"viewPodcast",value:function(){return!1}}]),n}()).\u0275fac=function(n){return new(n||k)(l.Hb(v.b))},k.\u0275cmp=l.Bb({type:k,selectors:[["podcast-listing"]],inputs:{podcast:"podcast",index:"index"},decls:32,vars:10,consts:[[1,"podcast__container"],[1,"podcast__container__ranking"],[1,"podcast__container__ranking__title"],[1,"podcast__container__thumbnail"],["alt","thumbnail",1,"podcast__container__thumbnail__image",3,"src"],[1,"podcast__container__info"],[1,"podcast__container__info__title"],[1,"podcast__container__info__publisher"],[1,"podcast__container__info__publisher__name"],[1,"podcast__container__info__episodes"],[1,"podcast__container__info__links"],["target","_blank",1,"podcast__container__info__links__link",3,"href"],[1,"icon","itunes"],[1,"text"],[1,"icon","web"],["rel","alternate","type","application/rss+xml","title","RSS 2.0",3,"href"],["type","application/rss+xml","target","_blank",1,"podcast__container__info__links__link",3,"href"],[1,"icon","rss"],[1,"podcast__container__description"]],template:function(n,t){1&n&&(l.Kb(0,"article",0),l.Kb(1,"div",1),l.Kb(2,"h1",2),l.cc(3),l.Jb(),l.Jb(),l.Kb(4,"div",3),l.Ib(5,"img",4),l.Jb(),l.Kb(6,"div",5),l.Kb(7,"h1",6),l.cc(8),l.Jb(),l.Kb(9,"h4",7),l.cc(10,"by "),l.Kb(11,"span",8),l.cc(12),l.Jb(),l.Jb(),l.Kb(13,"h4",9),l.cc(14),l.Jb(),l.Kb(15,"div",10),l.Kb(16,"a",11),l.Ib(17,"span",12),l.Kb(18,"span",13),l.cc(19,"itunes"),l.Jb(),l.Jb(),l.Kb(20,"a",11),l.Ib(21,"span",14),l.Kb(22,"span",13),l.cc(23,"web"),l.Jb(),l.Jb(),l.Ib(24,"link",15),l.Kb(25,"a",16),l.Ib(26,"span",17),l.Kb(27,"span",13),l.cc(28,"rss"),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(29,"div",18),l.Kb(30,"span"),l.cc(31),l.Jb(),l.Jb(),l.Jb()),2&n&&(l.xb(3),l.dc(t.index),l.xb(2),l.Vb("src",t.safe_thumbnail_url,l.Zb),l.xb(3),l.ec("",t.podcast.title," "),l.xb(4),l.dc(t.podcast.publisher),l.xb(2),l.ec("",t.podcast.total_episodes," episodes"),l.xb(2),l.Vb("href",t.safe_itunes_url,l.Zb),l.xb(4),l.Vb("href",t.safe_website_url,l.Zb),l.xb(4),l.Vb("href",t.safe_rss_url,l.Yb),l.xb(1),l.Vb("href",t.safe_rss_url,l.Zb),l.xb(6),l.dc(t.podcast.description))},styles:[".podcast__container{flex-grow:1;width:100%;margin-top:30px;margin-bottom:30px;display:grid;grid-template-columns:0 150px auto 1fr;gap:30px;padding:2.5em 0;border-radius:5px;box-shadow:0 0 10px -3px #a300bb}@media screen and (min-width:768px){.podcast__container{padding:2.5em 2.5em 2.5em 0;grid-template-columns:0 150px 2fr 2fr;margin-bottom:0}}@media screen and (min-width:810px){.podcast__container{width:810px}}.podcast__container__thumbnail__image{position:relative;right:3rem;height:200px}@media screen and (min-width:768px){.podcast__container__thumbnail__image{right:4rem}}.podcast__container__info__title{font-family:SpaceMono,sans-serif;font-weight:600;margin:0;line-height:1em}.podcast__container__info__publisher__name{color:#a300bb}.podcast__container__info__episodes,.podcast__container__info__publisher{font-family:SpaceMono,sans-serif;font-weight:400;margin-top:1rem}.podcast__container__info__links{border-top:thin solid #777;cursor:pointer}.podcast__container__info__links__link{display:inline-block;padding:1em 1em .5em 0;margin:0;color:#777}.podcast__container__info__links__link .text{display:none;font-size:1em;font-family:SpaceMono,sans-serif;font-weight:600;text-transform:uppercase}@media screen and (min-width:768px){.podcast__container__info__links__link .text{display:inline-block}}.podcast__container__info__links__link:hover{color:#fc731c}.podcast__container__info__links__link:hover .icon{stroke:#fc731c}.podcast__container__info__links__link .icon{background-repeat:no-repeat;background-position:50% 50%;padding:10px 1em 10px 10px;background-size:1em}.podcast__container__info__links__link .itunes{background-image:url(/assets/images/apple.svg)}.podcast__container__info__links__link .web{background-image:url(/assets/images/link.svg)}.podcast__container__info__links__link .rss{background-image:url(/assets/images/rss.svg)}.podcast__container__ranking{display:inline-block;background-color:#fd741b;background-image:linear-gradient(180deg,#fd741b,#a300bb);width:5em;height:5em;line-height:5em;border-radius:50%;text-align:center;position:relative;top:-5.2em;left:10px;z-index:2}@media screen and (min-width:768px){.podcast__container__ranking{position:relative;top:-2.5em;left:-140px}}.podcast__container__ranking__title{right:-100px;color:#fff;font-family:SpaceMono,sans-serif;font-weight:600;text-align:center;margin:0}.podcast__container__description{font-size:1.2em;grid-column-start:2;grid-column-end:4}@media screen and (min-width:768px){.podcast__container__description{grid-column:4}}"],encapsulation:2}),k);function J(n,t){if(1&n&&l.Ib(0,"podcast-listing",9),2&n){var e=t.$implicit,i=t.index,o=l.Sb();l.Vb("podcast",e)("index",o.getRankingForIndex(i))}}var K,S,O,j=[{path:"",component:(K=function(){function t(n,i){e(this,t),this.podcastService=n,this.store=i,this.subscription=new c.a,this.podcasts=[],this.genres=[],this.offset=0,this.total_pages=0,this.page_number=0,console.log("got here")}return o(t,[{key:"has_prev",get:function(){return this.page_number>0}},{key:"has_next",get:function(){return this.total_pages-this.page_number>1}},{key:"ngOnInit",value:function(){var t=this;this.subscription.add(Object(p.a)([this.store.pipe(Object(d.h)(b.b)),this.podcastService.getPodcastGenres()]).subscribe(function(e){var i=n(e,2),o=i[0],r=i[1];t.genres=r;var s=[],a=0,_=0,c=o.genre_id,p=o.page_number,d=o.page_size;if(r.length>0){var u=r.filter(function(n){return n.id==c});if(u.length>0){var b=(_=p*d)+d;(null==(s=u[0].podcasts)?void 0:s.length)>0&&(a=Math.ceil((null==s?void 0:s.length)/d),s=s.slice(_,b))}}t.page_number=p,t.total_pages=a,t.offset=_,t.podcasts=s}))}},{key:"getRankingForIndex",value:function(n){return n+this.offset+1}},{key:"goPrev",value:function(){this.store.dispatch(Object(u.a)())}},{key:"goNext",value:function(){this.store.dispatch(Object(u.b)())}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),t}(),K.\u0275fac=function(n){return new(n||K)(l.Hb(f.a),l.Hb(d.a))},K.\u0275cmp=l.Bb({type:K,selectors:[["podcasts-list"]],decls:10,vars:6,consts:[[1,"podcasts__container"],[1,"podcasts__container__genre__picker",3,"genres"],[3,"podcast","index",4,"ngFor","ngForOf"],[1,"podcasts__container__pagination"],[1,"podcasts__container__pagination__button","podcasts__container__pagination__button__prev"],[1,"button","prev",3,"disabled","click"],[1,"podcasts__container__pagination__page","gradient__text"],[1,"podcasts__container__pagination__button","podcasts__container__pagination__button__next"],[1,"button","next",3,"disabled","click"],[3,"podcast","index"]],template:function(n,t){1&n&&(l.Kb(0,"div",0),l.Ib(1,"genre-picker",1),l.bc(2,J,1,2,"podcast-listing",2),l.Kb(3,"div",3),l.Kb(4,"div",4),l.Kb(5,"button",5),l.Qb("click",function(){return t.has_prev&&t.goPrev()}),l.Jb(),l.Jb(),l.Kb(6,"h4",6),l.cc(7),l.Jb(),l.Kb(8,"div",7),l.Kb(9,"button",8),l.Qb("click",function(){return t.has_next&&t.goNext()}),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&n&&(l.xb(1),l.Vb("genres",t.genres),l.xb(1),l.Vb("ngForOf",t.podcasts),l.xb(3),l.Vb("disabled",!t.has_prev),l.xb(2),l.fc(" ",t.page_number+1," of ",t.total_pages," "),l.xb(2),l.Vb("disabled",!t.has_next))},directives:[y,s.j,w],styles:[".podcasts__container{display:flex;flex-direction:column;align-items:stretch;padding:30px 1em 100px}@media screen and (min-width:810px){.podcasts__container{align-items:center;padding:30px 0 100px}}.podcasts__container__genre__picker{margin:auto}.podcasts__container__pagination{flex-grow:1;width:100%;margin-top:30px;display:grid;grid-template-columns:1fr 1fr 1fr}@media screen and (min-width:810px){.podcasts__container__pagination{width:810px}}.podcasts__container__pagination__page{justify-self:center}.podcasts__container__pagination__button{display:inline-block}.podcasts__container__pagination__button__next{justify-self:end}.podcasts__container__pagination__button__prev{justify-self:start}.podcasts__container__pagination__button .button{height:100%;background:none;background-repeat:no-repeat;background-position:50% 50%;padding:10px 1em 10px 10px;background-size:2em;border:none}.podcasts__container__pagination__button .button:disabled{opacity:.5}.podcasts__container__pagination__button .button.prev{background-image:url(/assets/images/triangle-prev.svg)}.podcasts__container__pagination__button .button.next{background-image:url(/assets/images/triangle-next.svg)}"],encapsulation:2}),K)}],I=((O=function n(){e(this,n)}).\u0275mod=l.Fb({type:O}),O.\u0275inj=l.Eb({factory:function(n){return new(n||O)},imports:[[_.c.forChild(j)],_.c]}),O),V=((S=function n(){e(this,n)}).\u0275mod=l.Fb({type:S}),S.\u0275inj=l.Eb({factory:function(n){return new(n||S)},imports:[[s.c,a.a,I]]}),S)}}])}();